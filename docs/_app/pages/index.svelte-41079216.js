import{J as P,K as C,S as D,i as E,s as R,e as f,k as V,c as _,a as u,n as x,d as r,b as h,f as p,H as v,t as M,g as S,L as j,h as L,M as m,I as y}from"../chunks/vendor-a3a0138d.js";class O{constructor(){this.isReady=!1;let s;this.modelPromise=new Promise((i,e)=>{s=i}),P("./model.json").then(i=>{this.model=i,this.isReady=!0,s()}).catch(i=>{console.error(i),alert("Model failed to load")})}async predict(s){let i=[];for(const l of s)i.push(l=="-"?0:l=="X"?1:2);const t=(await this.model.predict(C(i,[1,9])).array())[0];return t.indexOf(t.reduce((l,n)=>n>l?n:l))}}function k(c,s,i){const e=c.slice();return e[3]=s[i],e[5]=i,e}function b(c,s,i){const e=c.slice();return e[3]=s[i],e[7]=i,e}function w(c){let s,i,e=c[0][c[5]*3+c[7]]+"",t,o,l,n;return{c(){s=f("div"),i=f("div"),t=M(e),this.h()},l(a){s=_(a,"DIV",{id:!0,class:!0});var d=u(s);i=_(d,"DIV",{class:!0});var g=u(i);t=S(g,e),g.forEach(r),d.forEach(r),this.h()},h(){h(i,"class","cellText svelte-1uptfis"),h(s,"id",o=(c[5]*3+c[7]).toString()),h(s,"class","cell svelte-1uptfis")},m(a,d){p(a,s,d),v(s,i),v(i,t),l||(n=j(s,"click",c[1].bind(this,c[5]*3+c[7])),l=!0)},p(a,d){c=a,d&1&&e!==(e=c[0][c[5]*3+c[7]]+"")&&L(t,e)},d(a){a&&r(s),l=!1,n()}}}function I(c){let s,i,e={length:3},t=[];for(let o=0;o<e.length;o+=1)t[o]=w(b(c,e,o));return{c(){s=f("div");for(let o=0;o<t.length;o+=1)t[o].c();i=V(),this.h()},l(o){s=_(o,"DIV",{class:!0});var l=u(s);for(let n=0;n<t.length;n+=1)t[n].l(l);i=x(l),l.forEach(r),this.h()},h(){h(s,"class","row svelte-1uptfis")},m(o,l){p(o,s,l);for(let n=0;n<t.length;n+=1)t[n].m(s,null);v(s,i)},p(o,l){if(l&3){e={length:3};let n;for(n=0;n<e.length;n+=1){const a=b(o,e,n);t[n]?t[n].p(a,l):(t[n]=w(a),t[n].c(),t[n].m(s,i))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(o){o&&r(s),m(t,o)}}}function X(c){let s,i={length:3},e=[];for(let t=0;t<i.length;t+=1)e[t]=I(k(c,i,t));return{c(){s=f("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){s=_(t,"DIV",{class:!0});var o=u(s);for(let l=0;l<e.length;l+=1)e[l].l(o);o.forEach(r),this.h()},h(){h(s,"class","grid svelte-1uptfis")},m(t,o){p(t,s,o);for(let l=0;l<e.length;l+=1)e[l].m(s,null)},p(t,[o]){if(o&3){i={length:3};let l;for(l=0;l<i.length;l+=1){const n=k(t,i,l);e[l]?e[l].p(n,o):(e[l]=I(n),e[l].c(),e[l].m(s,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=i.length}},i:y,o:y,d(t){t&&r(s),m(e,t)}}}function q(c,s,i){let e="---------".split("");const t=new O;return[e,async l=>{console.log(l),i(0,e[l]="X",e),t.isReady||await t.modelPromise;let n=await t.predict(e);i(0,e[n]="O",e),i(0,e)}]}class J extends D{constructor(s){super();E(this,s,q,X,R,{})}}export{J as default};
