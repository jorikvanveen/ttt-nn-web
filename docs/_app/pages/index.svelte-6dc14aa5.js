import{J as P,K as D,S as E,i as M,s as R,e as f,k as V,c as _,a as u,n as C,d as r,b as d,f as p,H as g,t as S,g as j,L,h as O,M as v,I as y,A as X,N as q}from"../chunks/vendor-dd957ac1.js";class A{constructor(){this.isReady=!1;let l;this.modelPromise=new Promise((i,e)=>{l=i}),P("./model.json").then(i=>{this.model=i,this.isReady=!0,l()}).catch(i=>{console.error(i),alert("Model failed to load")})}async predict(l){let i=[];for(const s of l)i.push(s=="-"?0:s=="X"?1:2);const t=(await this.model.predict(D(i,[1,9])).array())[0];return t.indexOf(t.reduce((s,o)=>o>s?o:s))}}function k(a,l,i){const e=a.slice();return e[3]=l[i],e[5]=i,e}function b(a,l,i){const e=a.slice();return e[3]=l[i],e[7]=i,e}function w(a){let l,i,e=a[0][a[5]*3+a[7]]+"",t,n,s,o;return{c(){l=f("div"),i=f("div"),t=S(e),this.h()},l(c){l=_(c,"DIV",{id:!0,class:!0});var h=u(l);i=_(h,"DIV",{class:!0});var m=u(i);t=j(m,e),m.forEach(r),h.forEach(r),this.h()},h(){d(i,"class","cellText svelte-1uptfis"),d(l,"id",n=(a[5]*3+a[7]).toString()),d(l,"class","cell svelte-1uptfis")},m(c,h){p(c,l,h),g(l,i),g(i,t),s||(o=L(l,"click",function(){q(a[1].bind(this,a[5]*3+a[7]))&&a[1].bind(this,a[5]*3+a[7]).apply(this,arguments)}),s=!0)},p(c,h){a=c,h&1&&e!==(e=a[0][a[5]*3+a[7]]+"")&&O(t,e)},d(c){c&&r(l),s=!1,o()}}}function I(a){let l,i,e={length:3},t=[];for(let n=0;n<e.length;n+=1)t[n]=w(b(a,e,n));return{c(){l=f("div");for(let n=0;n<t.length;n+=1)t[n].c();i=V(),this.h()},l(n){l=_(n,"DIV",{class:!0});var s=u(l);for(let o=0;o<t.length;o+=1)t[o].l(s);i=C(s),s.forEach(r),this.h()},h(){d(l,"class","row svelte-1uptfis")},m(n,s){p(n,l,s);for(let o=0;o<t.length;o+=1)t[o].m(l,null);g(l,i)},p(n,s){if(s&3){e={length:3};let o;for(o=0;o<e.length;o+=1){const c=b(n,e,o);t[o]?t[o].p(c,s):(t[o]=w(c),t[o].c(),t[o].m(l,i))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},d(n){n&&r(l),v(t,n)}}}function H(a){let l,i={length:3},e=[];for(let t=0;t<i.length;t+=1)e[t]=I(k(a,i,t));return{c(){l=f("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=_(t,"DIV",{class:!0});var n=u(l);for(let s=0;s<e.length;s+=1)e[s].l(n);n.forEach(r),this.h()},h(){d(l,"class","grid svelte-1uptfis")},m(t,n){p(t,l,n);for(let s=0;s<e.length;s+=1)e[s].m(l,null)},p(t,[n]){if(n&3){i={length:3};let s;for(s=0;s<i.length;s+=1){const o=k(t,i,s);e[s]?e[s].p(o,n):(e[s]=I(o),e[s].c(),e[s].m(l,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=i.length}},i:y,o:y,d(t){t&&r(l),v(e,t)}}}function J(a,l,i){let e="---------".split(""),t,n;return X(()=>{t=new A,i(1,n=async s=>{console.log(s),i(0,e[s]="X",e),t.isReady||await t.modelPromise;let o=await t.predict(e);i(0,e[o]="O",e),i(0,e)})}),[e,n]}class N extends E{constructor(l){super();M(this,l,J,H,R,{})}}export{N as default};
